# IOS调度器管理界面

## 概述

这是IOS智能出库系统调度器的Web管理界面，提供了一个直观的用户界面来监控和管理调度器服务。

## 功能特性

### 📊 系统状态监控
- **获取系统状态**: 显示服务名称、运行状态、版本信息、共享数据数量和活跃任务数
- **获取共享数据**: 查看所有存储在共享数据服务中的数据
- **获取任务列表**: 显示所有调度任务的详细信息

### 📋 任务管理
- **创建任务**: 支持创建不同类型的任务（出库、运动控制、视觉检测、编码）
- **任务参数**: 支持JSON格式的自定义任务参数
- **任务类型**:
  - `outbound`: 出库任务
  - `motion`: 运动控制任务
  - `vision`: 视觉检测任务
  - `coder`: 编码任务

### 📡 MQTT消息管理
- **发送MQTT消息**: 向指定主题发送消息
- **主题管理**: 支持自定义MQTT主题
- **消息内容**: 支持任意格式的消息内容

## 使用方法

### 1. 启动服务
确保IOS.Scheduler服务正在运行，默认端口通常为5000或7000。

### 2. 访问界面
在浏览器中访问：
```
http://localhost:5000/index.html
```
或
```
https://localhost:7001/index.html
```

### 3. 系统状态监控
- 页面加载时会自动获取系统状态
- 点击"获取系统状态"按钮刷新状态信息
- 点击"获取共享数据"查看共享数据
- 点击"获取任务列表"查看所有任务

### 4. 创建任务
1. 选择任务类型
2. 输入任务参数（JSON格式），例如：
   ```json
   {
     "priority": "high",
     "timeout": 30000,
     "retryCount": 3
   }
   ```
3. 点击"创建任务"按钮

### 5. 发送MQTT消息
1. 输入MQTT主题，例如：`system/test`
2. 输入消息内容
3. 点击"发送MQTT消息"按钮

## API接口

界面调用以下REST API接口：

- `GET /api/scheduler/status` - 获取系统状态
- `GET /api/scheduler/shared-data` - 获取共享数据
- `GET /api/scheduler/tasks` - 获取任务列表
- `POST /api/scheduler/tasks` - 创建新任务
- `POST /api/scheduler/mqtt/send` - 发送MQTT消息

## 技术特性

- **响应式设计**: 支持桌面和移动设备
- **现代UI**: 使用渐变色和阴影效果的现代化界面
- **实时反馈**: 显示加载状态和操作结果
- **错误处理**: 完善的错误提示和异常处理
- **JSON格式化**: 自动格式化显示JSON响应数据

## 故障排除

### 常见问题

1. **无法访问页面**
   - 确保IOS.Scheduler服务正在运行
   - 检查防火墙设置
   - 确认端口号是否正确

2. **API请求失败**
   - 检查服务日志
   - 确认API接口是否正常工作
   - 检查网络连接

3. **任务创建失败**
   - 检查任务参数JSON格式是否正确
   - 确认任务类型是否支持
   - 查看服务端错误日志

### 调试技巧

- 打开浏览器开发者工具查看网络请求
- 检查控制台是否有JavaScript错误
- 查看IOS.Scheduler服务的日志文件

## 安全注意事项

- 此界面仅用于开发和测试环境
- 生产环境请添加适当的身份验证和授权
- 限制网络访问权限
- 定期更新和维护

## 更新日志

- v1.0.0: 初始版本，包含基本的监控和管理功能 